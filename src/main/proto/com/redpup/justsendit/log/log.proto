edition = "2023";

package com.redpup.justsendit.log;

import "google/protobuf/timestamp.proto";
import "com/redpup/justsendit/model/player/decision.proto";
import "com/redpup/justsendit/model/board/hex/hex_point.proto";

option java_package = "com.redpup.justsendit.log.proto";
option java_multiple_files = true;

// A log message caused by any game action.
message Log {
  // When the log occurred.
  google.protobuf.Timestamp timestamp = 1;

  // The log that occurred.
  oneof event {
    PlayerChoice player_choice = 2;
    PlayerMove player_move = 3;
    SkillCardDraw skill_card_draw = 4;
  }
}

// A log of a player making a choice.
message PlayerChoice {
  string player_name = 1;
  model.player.MountainDecision decision = 2;
}

// A log of a player moving around the mountain.
message PlayerMove {
  string player_name = 1;
  model.board.hex.HexPoint from = 2;
  model.board.hex.HexPoint to = 3;
}

// A log of a player drawing a card.
message SkillCardDraw {
  string player_name = 1;
  int32 card_value = 2;
}
